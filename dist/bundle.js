(()=>{"use strict";var e=document.querySelector(".modal"),t=document.querySelector(".close"),n=document.forms.questionForm,s=document.querySelector(".questionCreateButton"),l=n.elements[n.length-1],c=n.elements[n.length-2],a=document.querySelector(".modalMessage"),m=[],i=[],r=[],o=[];s.addEventListener("click",(function(){e.classList.remove("hide")})),t.addEventListener("click",h);var d=0;function u(e){for(var t=[],n=0;n<e.length;n++)t.push(JSON.stringify(e[n]));return t}function h(){e.classList.add("hide")}l.addEventListener("click",(function(e){e.preventDefault();var t={},s=0,l=!0;t.id=d;for(var c=0;c<n.length;c++){if("text"===n.elements[c].type&&""===n.elements[c].value||n.elements[c].value.length>250){l=!1,"Текст должен быть не пустым и не более 250 символов",a.innerHTML='<h2 class="modalMessage">Текст должен быть не пустым и не более 250 символов</h2>';break}if("text"===n.elements[c].type&&(t[n.elements[c].name]=n.elements[c].value),"select-one"===n.elements.type&&(t.theme=n.elements[1].value),"radio"===n.elements[c].type&&n.elements[c].checked&&(t[n.elements[c].name]=Boolean(Number(n.elements[c].value))),"checkbox"===n.elements[c].type&&!1===n.elements[c].checked&&s++,4===s&&m.push(t),"checkbox"===n.elements[c].type&&n.elements[c].checked)switch(n.elements[c].id){case"CSV":t.type="CSV",o.push(t);break;case"XML":t.type="XML",i.push(t);break;case"YAML":t.type="YAML",r.push(t);break;case"JSON":t.type="JSON",m.push(t),u(m)}t.stringDate=(new Date).toDateString(),t.date=(new Date).getTime()}l&&(d++,function(){for(var e=0;e<=n.length-1;e++)"text"===n.elements[e].type&&(n.elements[e].value=""),n.elements[e].checked&&"JSON"!==n.elements[e].id&&"TRUE"!==n.elements[e].id&&"FALSE"!==n.elements[e].id&&(n.elements[e].checked=!1)}(),h())})),c.addEventListener("click",h),window.onclick=function(t){t.target===e&&e.classList.add("hide")}})();